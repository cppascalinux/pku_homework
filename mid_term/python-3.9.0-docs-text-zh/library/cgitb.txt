"cgitb" --- 用于 CGI 脚本的回溯管理器
*************************************

**源代码:** Lib/cgitb.py

======================================================================

"cgitb" 模块提供了用于 Python 脚本的特殊异常处理程序。 （这个名称有一
点误导性。 它最初是设计用来显示 HTML 格式的 CGI 脚本详细回溯信息。 但
后来被一般化为也可显示纯文本格式的回溯信息。） 激活这个模块之后，如果
发生了未被捕获的异常，将会显示详细的已格式化的报告。 报告显示内容包括
每个层级的源代码摘录，还有当前正在运行的函数的参数和局部变量值，以帮助
你调试问题。 你也可以选择将此信息保存至文件而不是将其发送至浏览器。

要启用此特性，只需简单地将此代码添加到你的 CGI 脚本的最顶端:

   import cgitb
   cgitb.enable()

"enable()" 函数的选项可以控制是将报告显示在浏览器中，还是将报告记录到
文件供以后进行分析。

cgitb.enable(display=1, logdir=None, context=5, format="html")

   此函数可通过设置 "sys.excepthook" 的值以使 "cgitb" 模块接管解释器默
   认的异常处理机制。

   可选参数 *display* 默认为 "1" 并可被设为 "0" 来停止将回溯发送至浏览
   器。 如果给出了参数 *logdir*，则回溯会被写入文件。 *logdir* 的值应
   当是一个用于存放所写入文件的目录。 可选参数 *context* 是要在回溯中
   的当前源代码行前后显示的上下文行数；默认为 "5"。 如果可选参数
   *format* 为 ""html""，输出将为 HTML 格式。 任何其它值都会强制启用纯
   文本输出。 默认取值为 ""html""。

cgitb.text(info, context=5)

   此函数用于处理 *info* (一个包含 "sys.exc_info()" 返回结果的 3 元组)
   所描述的异常，将其回溯格式化为文本并将结果作为字符串返回。 可选参数
   *context* 是要在回溯中的当前源码行前后显示的上下文行数；默认为 "5"
   。

cgitb.html(info, context=5)

   此函数用于处理 *info* (一个包含 "sys.exc_info()" 返回结果的 3 元组)
   所描述的异常，将其回溯格式化为 HTML 并将结果作为字符串返回。 可选参
   数 *context* 是要在回溯中的当前源码行前后显示的上下文行数；默认为
   "5"。

cgitb.handler(info=None)

   此函数使用默认设置处理异常（即在浏览器中显示报告，但不记录到文件）
   。 当你捕获了一个异常并希望使用 "cgitb" 来报告它时可以使用此函数。
   可选的 *info* 参数应为一个包含异常类型，异常值和回溯对象的 3 元组，
   与 "sys.exc_info()" 所返回的元组完全一致。 如果未提供 *info* 参数，
   则会从 "sys.exc_info()" 获取当前异常。
